"use strict";

var _enhancedResolve = _interopRequireDefault(require("enhanced-resolve"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const resolver = _enhancedResolve.default.create.sync({
  conditionNames: ['require', 'node', 'default'],
  extensions: ['.js', '.json', '.node', '.ts', '.tsx']
});

const shouldResolveByEnhance = url => /^@[^/]+\/[^/]+\/.*/.test(url);

module.exports = function (request, options) {
  if (shouldResolveByEnhance(request)) {
    return resolver(options.basedir, request);
  }

  return options.defaultResolver(request, options);
};