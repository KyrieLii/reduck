"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.buildCli = void 0;

var _utils = require("@modern-js/utils");

const local = _utils.Import.lazy('../locale/index', require);

const commands = _utils.Import.lazy('../commands', require);

const buildCli = (program, api) => {
  // TODO: 初始化环境变量
  program.command('build').usage('[options]').description(local.i18n.t(local.localeKeys.command.build.describe)).option('-w, --watch', local.i18n.t(local.localeKeys.command.build.watch)).option('--tsconfig [tsconfig]', local.i18n.t(local.localeKeys.command.build.tsconfig), './tsconfig.json').option('--style-only', local.i18n.t(local.localeKeys.command.build.style_only)).option('-p, --platform [platform]', local.i18n.t(local.localeKeys.command.build.platform)).option('--no-tsc', local.i18n.t(local.localeKeys.command.build.no_tsc)).option('--no-clear', local.i18n.t(local.localeKeys.command.build.no_clear)).action(async subCommand => {
    await commands.build(api, subCommand);
  });
};

exports.buildCli = buildCli;